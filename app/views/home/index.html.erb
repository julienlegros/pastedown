<div class="row" ng-controller="editorCtrl">
  <div class="col-xs-12 col-sm-9 col-md-9">
    <%= form_for @paste, url: {action: "create", controller:"pastes"}, html: {role: "form"} do |f| %>
      <% if @paste.errors.any? %>
        <div id="error_explanation">
          <ul>
          <% @paste.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>

      <div ng-show="editMode">
        <div class="form-group">
          <%= f.label :body, "Text (Markdown)" %>
          <%= f.text_area :body, :rows=> 12, "ng-model"=> "mdText" %>
        </div>

        <div class="form-group">
          <%= f.label :title, "Title" %>
          <%= f.text_field :title %>
        </div>

        <%= f.submit "Create", :class=> "btn btn-primary" %>
        <button type="button" class="btn btn-default" ng-disabled="previewDisable" ng-click="preview()">Preview</button>
      </div>

      <button type="button" class="btn btn-default" ng-hide="editMode" ng-click="stopPreview()">Quit preview</button>
      <preview class="foghorn" ng-hide="editMode"></preview>

    <% end %>
  </div>

  <div class="col-xs-12 col-sm-3 col-md-3">
    <%= render "shared/help" %>
  </div>

</div>